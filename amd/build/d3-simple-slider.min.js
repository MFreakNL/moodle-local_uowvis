!function(a,b){define(["exports","local_uowvis/d3"],b)}(this,function(a,b){"use strict";function c(a){return"translate("+a+",0)"}function d(a){return"translate(0,"+a+")"}function e(a,b){function e(c){function d(a){var c=g(b.invert(a));return j.map(function(a,b){return 2===j.length?b===O?0===O?Math.min(c,g(j[1])):Math.max(c,g(j[0])):a:b===O?c:a})}function k(){r.select(this).classed("active",!0);var c=N(a===x||a===v?r.event.x:r.event.y);O=j[0]===z[0]&&j[1]===z[0]?1:j[0]===z[1]&&j[1]===z[1]?0:l.scan(j.map(function(a){return Math.abs(a-g(b.invert(c)))}));var d=j.map(function(a,d){return d===O?g(b.invert(c)):a});i(d),L.call("start",s,1===d.length?d[0]:d),h(d,!0)}function m(){var b=N(a===x||a===v?r.event.x:r.event.y),c=d(b);i(c),L.call("drag",s,1===c.length?c[0]:c),h(c,!0)}function n(){r.select(this).classed("active",!1);var b=N(a===x||a===v?r.event.x:r.event.y),c=d(b);i(c),L.call("end",s,1===c.length?c[0]:c),h(c,!0),O=null}M=c.selection?c.selection():c,b?b=b.range([l.min(b.range()),l.min(b.range())+(a===v||a===x?A:B)]):(b=z[0]instanceof Date?q.scaleTime():q.scaleLinear(),b=b.domain(z).range(a===v||a===x?[0,A]:[B,0]).clamp(!0)),N=q.scaleLinear().range(b.range()).domain(b.range()).clamp(!0),j=j.map(function(a){return q.scaleLinear().range(z).domain(z).clamp(!0)(a)}),H=H||b.tickFormat(),J=J||H||b.tickFormat();var p=M.selectAll(".axis").data([null]);p.enter().append("g").attr("transform",U(7*P)).attr("class","axis");var s=M.selectAll(".slider").data([null]),G=s.enter().append("g").attr("class","slider").attr("cursor",a===v||a===x?"ew-resize":"ns-resize").call(o.drag().on("start",k).on("drag",m).on("end",n));G.append("line").attr("class","track").attr(R+"1",b.range()[0]-Q*t).attr("stroke","#bbb").attr("stroke-width",6).attr("stroke-linecap","round"),G.append("line").attr("class","track-inset").attr(R+"1",b.range()[0]-Q*t).attr("stroke","#eee").attr("stroke-width",4).attr("stroke-linecap","round"),K&&G.append("line").attr("class","track-fill").attr(R+"1",1===j.length?b.range()[0]-Q*t:b(j[0])).attr("stroke",K).attr("stroke-width",4).attr("stroke-linecap","round"),G.append("line").attr("class","track-overlay").attr(R+"1",b.range()[0]-Q*t).attr("stroke","transparent").attr("stroke-width",40).attr("stroke-linecap","round").merge(s.select(".track-overlay")),W=G.selectAll(".parameter-value").data(j);var Z=W.enter().append("g").attr("class","parameter-value").attr("transform",function(a){return T(b(a))}).attr("font-family","sans-serif").attr("text-anchor",a===w?"start":a===y?"end":"middle");Z.append("path").attr("transform","rotate("+90*(a+1)+")").attr("d",D).attr("class","handle").attr("aria-label","handle").attr("aria-valuemax",z[1]).attr("aria-valuemin",z[0]).attr("aria-valuenow",j).attr("aria-orientation",a===y||a===w?"vertical":"horizontal").attr("focusable","true").attr("tabindex",0).attr("fill","white").attr("stroke","#777").on("keydown",function(a,b){function c(a){return j.map(function(c,d){return 2===j.length?d===b?0===b?Math.min(a,g(j[1])):Math.max(a,g(j[0])):c:d===b?a:c})}var d=E||(z[1]-z[0])/u;switch(r.event.key){case"ArrowLeft":case"ArrowDown":e.value(c(+j[b]-d)),r.event.preventDefault();break;case"PageDown":e.value(c(+j[b]-2*d)),r.event.preventDefault();break;case"ArrowRight":case"ArrowUp":e.value(c(+j[b]+d)),r.event.preventDefault();break;case"PageUp":e.value(c(+j[b]+2*d)),r.event.preventDefault();break;case"Home":e.value(c(z[0])),r.event.preventDefault();break;case"End":e.value(c(z[1])),r.event.preventDefault()}}),C&&Z.append("text").attr("font-size",10).attr(S,27*P).attr("dy",a===v?"0em":a===x?".71em":".32em").attr("transform",j.length>1?"translate(0,0)":null).text(function(a,b){return H(j[b])}),c.select(".track").attr(R+"2",b.range()[1]+Q*t),c.select(".track-inset").attr(R+"2",b.range()[1]+Q*t),K&&c.select(".track-fill").attr(R+"2",b(1===j.length?j[0]:j[1])),c.select(".track-overlay").attr(R+"2",b.range()[1]+Q*t),c.select(".axis").call(V(b).tickFormat(H).ticks(I).tickValues(F)),M.select(".axis").select(".domain").remove(),c.select(".axis").attr("transform",U(7*P)),c.selectAll(".axis text").attr("fill","#aaa").attr(S,20*P).attr("dy",a===v?"0em":a===x?".71em":".32em").attr("text-anchor",a===w?"start":a===y?"end":"middle"),c.selectAll(".axis line").attr("stroke","#aaa"),c.selectAll(".parameter-value").attr("transform",function(a){return T(b(a))}),f(),Y=M.selectAll(".parameter-value text"),X=M.select(".track-fill")}function f(){if(M&&C){var a=[];if(j.forEach(function(b){var c=[];M.selectAll(".axis .tick").each(function(a){c.push(Math.abs(a-b))}),a.push(l.scan(c))}),M.selectAll(".axis .tick text").attr("opacity",function(b,c){return~a.indexOf(c)?0:1}),Y&&j.length>1){var b,c,d=[],e=[];Y.nodes().forEach(function(a,f){b=a.getBoundingClientRect(),c=a.getAttribute("transform").split(/[()]/)[1].split(",")["x"===R?0:1],d[f]=b[R]-parseFloat(c),e[f]=b["x"===R?"width":"height"]}),"x"===R?(c=Math.max(0,(d[0]+e[0]-d[1])/2),Y.attr("transform",function(a,b){return"translate("+(b?c:-c)+",0)"})):(c=Math.max(0,(d[1]+e[1]-d[0])/2),Y.attr("transform",function(a,b){return"translate(0,"+(b?-c:c)+")"}))}}}function g(a){if(E){var b=(a-z[0])%E,c=a-b;return 2*b>E&&(c+=E),a instanceof Date?new Date(c):c}if(G){var d=l.scan(G.map(function(b){return Math.abs(a-b)}));return G[d]}return a}function h(a,b){(j[0]!==a[0]||j.length>1&&j[1]!==a[1])&&(j=a,b&&L.call("onchange",e,1===a.length?a[0]:a),f())}function i(a,c){M&&(c="undefined"!=typeof c&&c,c?(M.selectAll(".parameter-value").data(a).transition().ease(p.easeQuadOut).duration(s).attr("transform",function(a){return T(b(a))}).select(".handle").attr("aria-valuenow",function(a){return a}),K&&X.transition().ease(p.easeQuadOut).duration(s).attr(R+"1",1===j.length?b.range()[0]-P*t:b(a[0])).attr(R+"2",b(1===j.length?a[0]:a[1]))):(M.selectAll(".parameter-value").data(a).attr("transform",function(a){return T(b(a))}).select(".handle").attr("aria-valuenow",function(a){return a}),K&&X.attr(R+"1",1===j.length?b.range()[0]-P*t:b(a[0])).attr(R+"2",b(1===j.length?a[0]:a[1]))),C&&Y.text(function(b,c){return J(a[c])}))}b="undefined"!=typeof b?b:null;var j=[0],k=[0],z=[0,10],A=100,B=100,C=!0,D="M-5.5,-5.5v10l6,5.5l6,-5.5v-10z",E=null,F=null,G=null,H=null,I=null,J=null,K=null,L=n.dispatch("onchange","start","end","drag"),M=null,N=null,O=null,P=a===v||a===y?-1:1,Q=a===y||a===w?-1:1,R=a===y||a===w?"y":"x",S=a===y||a===w?"x":"y",T=a===v||a===x?c:d,U=a===v||a===x?d:c,V=null;switch(a){case v:V=m.axisTop;break;case w:V=m.axisRight;break;case x:V=m.axisBottom;break;case y:V=m.axisLeft}var W=null,X=null,Y=null;return b&&(z=[l.min(b.domain()),l.max(b.domain())],a===v||a===x?A=l.max(b.range())-l.min(b.range()):B=l.max(b.range())-l.min(b.range()),b=b.clamp(!0)),e.min=function(a){return arguments.length?(z[0]=a,e):z[0]},e.max=function(a){return arguments.length?(z[1]=a,e):z[1]},e.domain=function(a){return arguments.length?(z=a,e):z},e.width=function(a){return arguments.length?(A=a,e):A},e.height=function(a){return arguments.length?(B=a,e):B},e.tickFormat=function(a){return arguments.length?(H=a,e):H},e.displayFormat=function(a){return arguments.length?(J=a,e):J},e.ticks=function(a){return arguments.length?(I=a,e):I},e.value=function(a){if(!arguments.length)return 1===j.length?j[0]:j;var c=Array.isArray(a)?a:[a];c.sort(function(a,b){return a-b});var d=c.map(b).map(N),f=d.map(b.invert).map(g);return i(f,!0),h(f,!0),e},e.silentValue=function(a){if(!arguments.length)return 1===j.length?j[0]:j;var c=Array.isArray(a)?a:[a];c.sort(function(a,b){return a-b});var d=c.map(b).map(N),f=d.map(b.invert).map(g);return i(f,!1),h(f,!1),e},e["default"]=function(a){if(!arguments.length)return 1===k.length?k[0]:k;var b=Array.isArray(a)?a:[a];return b.sort(function(a,b){return a-b}),k=b,j=b,e},e.step=function(a){return arguments.length?(E=a,e):E},e.tickValues=function(a){return arguments.length?(F=a,e):F},e.marks=function(a){return arguments.length?(G=a,e):G},e.handle=function(a){return arguments.length?(D=a,e):D},e.displayValue=function(a){return arguments.length?(C=a,e):C},e.fill=function(a){return arguments.length?(K=a,e):K},e.on=function(){var a=L.on.apply(L,arguments);return a===L?e:a},e}function f(a){return e(x,a)}function g(a){return e(y,a)}function h(a){return e(v,a)}function i(a){return e(w,a)}function j(a){return e(x,a)}function k(a){return e(y,a)}var l=b,m=b,n=b,o=b,p=b,q=b,r=b,s=200,t=8,u=100,v=1,w=2,x=3,y=4;a.sliderBottom=j,a.sliderHorizontal=f,a.sliderLeft=k,a.sliderRight=i,a.sliderTop=h,a.sliderVertical=g,Object.defineProperty(a,"__esModule",{value:!0})});
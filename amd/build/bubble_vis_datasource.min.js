define(["jquery","core/ajax"],function(a,b){return{list:function(b,c){var d=[],e=a(b),f=a(b).data("originaloptionsjson"),g=e.val();a.each(f,function(b,e){return""!==a.trim(c)&&e.label.toLocaleLowerCase().indexOf(c.toLocaleLowerCase())===-1||(a.inArray(e.value,g)>-1||(d.push(e),!0))});var h=new a.Deferred;return h.resolve(d),h.promise()},processResults:function(b,c){var d=[];return a.each(c,function(a,b){d.push({value:b.courseid,label:b.coursename})}),d},transport:function(c,d,e,f){var g=null;"undefined"==typeof d&&(d="");var h={query:d},i=[{methodname:"local_uowvis_get_searchdata",args:h}];g=b.call(i),a.when.apply(a.when,g).done(function(a){e(a)}).fail(f)}}});